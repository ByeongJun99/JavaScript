<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문제3</title>
    <style>
        fieldset{
            width: 600px;
        }
        div{
            float: left;
        }
        p{
            margin: 0px;
            float: left;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Practice3</h1>
    <fieldset>
        <legend>회원가입</legend>
        <div>아이디 : <input type="text" id="userId" onkeyup="idCheck(this)"></div> <p id="idCheck"></p><br><br>
        비밀번호 : <input type="password" id="userPwd"> <br><br>
        <div>비밀번호 확인 : <input type="password" id="userPwdCheck" onblur="pwdCheck(this)"></div> <p id="pwdCheck"></p><br><br>
        이름 : <input type="text" id="userName"> <br><br>
        <button onclick="signUp()">회원가입</button>
    </fieldset>

    <script>
        function idCheck(){
            const id = document.getElementById('userId').value;
            const name = document.getElementById('userName').value;
            
            let idCheck = document.getElementById('idCheck');
            
            if (id === 'user01') {
                idCheck.style.color = 'red';
                idCheck.innerText = '이미 존재하는 아이디입니다.';
            } else{
                idCheck.style.color = 'green';
                idCheck.innerText = '사용가능한 아이디입니다.';
            }
        }

        function pwdCheck(){
            const pwd = document.getElementById('userPwd').value;
            const pwd2 = document.getElementById('userPwdCheck').value;

            let pwdCheck = document.getElementById('pwdCheck');

            if (pwd === pwd2) {
                pwdCheck.style.color = 'green';
                pwdCheck.innerText = '비밀번호가 일치합니다.';
            } else{
                pwdCheck.style.color = 'red';
                pwdCheck.innerText = '비밀번호가 일치하지 않습니다.';
            }
        }

        function signUp(){
            const id = document.getElementById('userId');
            const pwd = document.getElementById('userPwd');
            const pwd2 = document.getElementById('userPwdCheck');
            const name = document.getElementById('userName');

            let idCheck = document.getElementById('idCheck');
            let pwdCheck = document.getElementById('pwdCheck');

            if (id.value === 'user01') {
                alert('사용할 수 없는 아이디입니다');
                id.value = null;
                id.focus();
                return;
            }

            if (pwd.value != pwd2.value) {
                alert('비밀번호가 일치하지 않습니다.');
                pwd.value = null;
                pwd2.value = null;
                pwd.focus();
                return;
            }

            alert(`${name.value}님, 회원가입이 성공적으로 완료되었습니다^^`);
            id.value = null;
            idCheck.innerText = '';
            pwd.value = null;
            pwd2.value = null;
            pwdCheck.innerText = '';
            name.value = null;
        }
    </script>
</body>
</html>